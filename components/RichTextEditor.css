.rich-text-editor {
  .ProseMirror {
    min-height: 150px;
    outline: none;

    /* Lists styling */
    ul {
      list-style-type: disc;
      padding-left: 1.5em;
      margin: 0.5em 0;

      ul {
        list-style-type: circle;
      }

      ul ul {
        list-style-type: square;
      }
    }

    ol {
      list-style-type: decimal;
      padding-left: 1.5em;
      margin: 0.5em 0;

      ol {
        list-style-type: lower-alpha;
      }

      ol ol {
        list-style-type: lower-roman;
      }
    }

    li {
      margin: 0.2em 0;
      
      p {
        margin: 0;
      }

      /* Style the markers for better visibility */
      &::marker {
        color: var(--text-secondary);
      }
    }

    /* Blockquote styling */
    blockquote {
      margin: 1em 0;
      padding: 0.5em 1em;
      border-left: 3px solid var(--glass-primary-border);
      background: var(--glass-bg-subtle);
      border-radius: 0.25em;
      color: var(--text-secondary);
      font-style: italic;

      p {
        margin: 0;
      }

      /* Nested blockquotes */
      blockquote {
        margin-left: 0.5em;
        opacity: 0.9;
      }
    }

    /* Link styling */
    a {
      color: var(--link-color);
      text-decoration: underline;
      text-decoration-thickness: 1px;
      text-underline-offset: 2px;
      transition: all 0.2s ease;

      &:hover {
        color: var(--link-hover);
        text-decoration-thickness: 2px;
      }

      &:visited {
        color: var(--link-visited);
      }
    }
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    color: #adb5bd;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }

  /* Basic editor styles */
  .ProseMirror {
    > * + * {
      margin-top: 0.75em;
    }

    /* Heading styles */
    h1 {
      font-size: 1.75em;
      font-weight: 600;
      line-height: 1.2;
      margin: 1.5em 0 0.75em;
      color: var(--text-primary);
      letter-spacing: -0.025em;
      border-bottom: 1px solid var(--divider-subtle);
      padding-bottom: 0.25em;

      &:first-child {
        margin-top: 0.5em;
      }
    }

    h2 {
      font-size: 1.5em;
      font-weight: 600;
      line-height: 1.3;
      margin: 1.25em 0 0.625em;
      color: var(--text-primary);
      letter-spacing: -0.025em;

      &:first-child {
        margin-top: 0.5em;
      }
    }

    code {
      background-color: rgba(97, 97, 97, 0.1);
      color: #616161;
      padding: 0.2em 0.4em;
      border-radius: 3px;
      font-family: monospace;
      font-size: 0.9em;
    }

    pre {
      background: var(--surface-sunken);
      color: var(--text-primary);
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      font-family: monospace;

      code {
        color: inherit;
        padding: 0;
        background: none;
        font-size: 0.8rem;
      }
    }

    hr {
      border: none;
      height: 1px;
      background-color: var(--divider-default);
      margin: 2rem 0;
    }
  }

  /* Menu bar styles */
  button {
    color: var(--text-primary);
    opacity: 0.8;

    &:hover {
      opacity: 1;
    }

    &:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    &.is-active {
      opacity: 1;
      background-color: rgba(var(--text-primary), 0.1);
    }
  }
}

/* Shared heading styles for both editor and view modes */
.rich-text-editor .ProseMirror,
.rich-text-view {
  /* Heading styles */
  h1 {
    font-size: 1.75em;
    font-weight: 600;
    line-height: 1.2;
    margin: 1.5em 0 0.75em;
    color: var(--text-primary);
    letter-spacing: -0.025em;
    border-bottom: 1px solid var(--divider-subtle);
    padding-bottom: 0.25em;

    &:first-child {
      margin-top: 0.5em;
    }
  }

  h2 {
    font-size: 1.5em;
    font-weight: 600;
    line-height: 1.3;
    margin: 1.25em 0 0.625em;
    color: var(--text-primary);
    letter-spacing: -0.025em;

    &:first-child {
      margin-top: 0.5em;
    }
  }
}

/* Rich text view mode styles */
.rich-text-view {
  /* Base text styles */
  color: var(--text-primary);
  line-height: 1.6;

  /* Spacing between elements */
  > * + * {
    margin-top: 1em;
  }

  /* Lists */
  ul, ol {
    padding-left: 1.5em;
    margin: 0.75em 0;
  }

  ul {
    list-style-type: disc;
    
    ul {
      list-style-type: circle;
      margin: 0.25em 0;
    }

    ul ul {
      list-style-type: square;
    }
  }

  ol {
    list-style-type: decimal;
    
    ol {
      list-style-type: lower-alpha;
      margin: 0.25em 0;
    }

    ol ol {
      list-style-type: lower-roman;
    }
  }

  li {
    margin: 0.375em 0;
    padding-left: 0.25em;

    &::marker {
      color: var(--text-secondary);
    }
  }

  /* Blockquotes */
  blockquote {
    border-left: 3px solid var(--glass-primary-border);
    padding: 0.5em 0 0.5em 1em;
    margin: 1em 0;
    font-style: italic;
    color: var(--text-secondary);
    background: var(--glass-bg-subtle);
    border-radius: 0.25em;
  }

  /* Links */
  a, .rich-text-link {
    color: var(--link-color);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    transition: all 0.2s ease;

    &:hover {
      color: var(--link-hover);
      text-decoration-thickness: 2px;
    }

    &:visited {
      color: var(--link-visited);
    }
  }

  /* Code blocks */
  code {
    font-family: var(--font-mono, monospace);
    background: var(--glass-bg-subtle);
    padding: 0.2em 0.4em;
    border-radius: 0.25em;
    font-size: 0.9em;
  }

  pre {
    background: var(--surface-sunken);
    padding: 1em;
    border-radius: 0.5em;
    overflow-x: auto;
    margin: 1em 0;

    code {
      background: none;
      padding: 0;
      font-size: 0.9em;
      color: var(--text-primary);
    }
  }

  /* Horizontal rule */
  hr {
    border: none;
    height: 1px;
    background-color: var(--divider-default);
    margin: 2rem 0;
  }

  /* Dark mode adjustments */
  [data-theme="dark"] & {
    blockquote {
      background: rgba(255, 255, 255, 0.05);
    }

    code {
      background: rgba(255, 255, 255, 0.1);
    }

    pre {
      background: rgba(0, 0, 0, 0.2);
    }

    hr {
      background-color: var(--divider-default);
    }

    a, .rich-text-link {
      color: var(--link-color);
      
      &:hover {
        color: var(--link-hover);
      }

      &:visited {
        color: var(--link-visited);
      }
    }

    /* Heading styles */
    h1, h2 {
      color: var(--text-primary);
    }

    h1 {
      border-bottom-color: var(--divider-subtle);
    }
  }
} 